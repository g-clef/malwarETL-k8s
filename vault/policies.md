# Policies

Below are the various policies to set read permissions to the secrets defined in the kv store. shell into the 
vault pod, and do `vault policy write <name of policy> - << EOF ` and then paste each policy setting.


---
#!/bin/sh
vault policy write collectors - <<EOF
    path "malwarETL/apps/collectors/smb" {
        capabilities = ["read"]
    }
EOF

vault policy write malshare - <<EOF
    path "malwarETL/apps/collectors/external/malshare" {
        capabilities = ["read"]
    }
EOF

vault policy write pastebin - <<EOF
    path "malwarETL/apps/pastebin/smb" { 
        capabilities = ["read"]
    }
    path "malwarETL/apps/pastebin/external" {
        capabilities = ["read"]
    }
EOF

vault policy write ti-report - <<EOF
	path "malwarETL/apps/ti-report/smb" {
			capabilities = ["read"]
    }
EOF

vault policy write transformers - <<EOF
    path "malwarETL/apps/transformers/smb" {
        capabilities = ["read"]
    }
EOF

vault policy write prefect - <<EOF
    path "malwarETL/apps/prefect/smb" {
        capabilities = ["read"]
    }
EOF

vault policy write postgres - <<EOF
    path "malwarETL/apps/postgres/smb" {
        capabilities = ["read"]
    }
EOF

vault policy write kafka - <<EOF
    path "malwarETL/apps/kafka/smb" {
        capabilities = ["read"]
}
EOF